metadata:
  summary: "Fedora Silverblue"

variables:
  variant: "silverblue"

include:
  - common.yaml
  - packages/silverblue.yaml

packages:
  - pinentry-gnome3
  # Included for now to have layered Qt5 applications use a constistent style
  # Manually included here as it is excluded from the workstation-product group
  - qadwaitadecorations-qt5
  # Include papers-thumbnailer otherwise PDF thumbnails won't work in Nautilus
  # https://github.com/fedora-silverblue/issue-tracker/issues/98
  # https://pagure.io/fedora-workstation/issue/434
  - papers-thumbnailer
  # Include papers-previewer otherwise print previews are broken in Papers
  # https://github.com/fedora-silverblue/issue-tracker/issues/122
  # https://pagure.io/fedora-workstation/issue/434
  - papers-previewer
  # Papers extension for the Nautilus file manager
  - papers-nautilus
  # Include totem-video-thumbnailer for video thumbnailing in Nautilus
  # https://pagure.io/fedora-workstation/issue/168
  # Totem was replaced by Showtime but we still need the thumbnailer
  # https://pagure.io/fedora-workstation/issue/488
  - totem-video-thumbnailer
  # Make sure that GNOME Software's rpm-ostree plugin is always installed
  - gnome-software-rpm-ostree
  # Needed for GSConnect extension
  # See: https://github.com/fedora-silverblue/issue-tracker/issues/201
  - openssl

postprocess:
  # Skip Third Party Software page in GNOME Initial Setup as it currently does
  # not work. See: https://bugzilla.redhat.com/show_bug.cgi?id=2362164
  # Users will be offered the option to enable third party repositories again the
  # first time they open GNOME Software.
  - |
    #!/bin/bash
    set -xeuo pipefail

    cat > /usr/share/gnome-initial-setup/vendor.conf << 'EOF'
    [pages]
    # Do not show the Third Party Software page
    skip=software
    EOF
